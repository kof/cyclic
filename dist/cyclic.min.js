!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.cyclic=e()}}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";exports.Model=require("./lib/model");exports.Cycle=require("./lib/cycle")},{"./lib/cycle":2,"./lib/model":3}],2:[function(require,module,exports){"use strict";function Cycle(){this.models={}}module.exports=Cycle;Cycle.prototype.add=function(model){this.models[model.id]=model;return this};Cycle.prototype.run=function(){for(var id in this.models){var model=this.models[id];if(model.isDirty)model.apply()}return this}},{}],3:[function(require,module,exports){"use strict";var Emitter=require("component-emitter");var uid=0;function Model(attributes){this.id=++uid;this.attributes=attributes;this.changed={};this.isDirty=false}Emitter(Model.prototype);module.exports=Model;Model.prototype.get=function(name){return this.attributes[name]};Model.prototype.set=function(name,value){if(this.attributes[name]===value)return this;this.changed[name]=value;this.isDirty=true;return this};Model.prototype.toJSON=function(){return this.attributes};Model.prototype.apply=function(){for(var name in this.changed){var value=this.changed[name];this.attributes[name]=value;this.emit("change:"+name,value)}this.changed={};this.isDirty=false;return this}},{"component-emitter":4}],4:[function(require,module,exports){module.exports=Emitter;function Emitter(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in Emitter.prototype){obj[key]=Emitter.prototype[key]}return obj}Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){this._callbacks=this._callbacks||{};(this._callbacks[event]=this._callbacks[event]||[]).push(fn);return this};Emitter.prototype.once=function(event,fn){var self=this;this._callbacks=this._callbacks||{};function on(){self.off(event,on);fn.apply(this,arguments)}on.fn=fn;this.on(event,on);return this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var callbacks=this._callbacks[event];if(!callbacks)return this;if(1==arguments.length){delete this._callbacks[event];return this}var cb;for(var i=0;i<callbacks.length;i++){cb=callbacks[i];if(cb===fn||cb.fn===fn){callbacks.splice(i,1);break}}return this};Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks[event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;++i){callbacks[i].apply(this,args)}}return this};Emitter.prototype.listeners=function(event){this._callbacks=this._callbacks||{};return this._callbacks[event]||[]};Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},{}]},{},[1])(1)});